<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>WordScript</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/all.css">
    <link rel="stylesheet" href="css/index.css">
    <script src="js/jquery-3.5.1.min.js" type="text/javascript"></script>
    <script src="js/jquery-ui.min.js" type="text/javascript"></script>
    <script src="js/react.development.js" type="text/javascript"></script>
    <script src="js/react-dom.development.js" type="text/javascript"></script>
    <script src="js/react-router-dom.min.js" type="text/javascript"></script>
    <script type="text/javascript">
      var dir = "<%= dir %>";
      var user = "<%= user %>";
      var components;
      var header_array_list = <%- JSON.stringify(headers) %>;
      var wordscript_selected_create_component_type = "";
      var image_array_list = <%- JSON.stringify(images) %>;
      var headers = new Map(), images = new Map();

      var init_header_focused = [], init_image_focused = [];
      var is_edit_permission_granted = <%= is_edit_permission_granted %>

      //Map of component offset data
      var component_off_set_values_map = new Map();
      component_off_set_values_map.set("Header", {xOffset: 200, yOffset: 20});
      component_off_set_values_map.set("Image", {xOffset: 400, yOffset: 140});

      console.log(dir);

      for (var i = 0; i < header_array_list.length; ++i) {
        init_header_focused[i] = false;
      }

      for (var i = 0; i < image_array_list.length; ++i) {
        init_image_focused[i] = false;
      }

      for (var i = 0; i < header_array_list.length; ++i) {
        headers.set(header_array_list[i].id, header_array_list[i]);
      }

      for (var i = 0; i < image_array_list.length; ++i) {
        images.set(image_array_list[i].id, image_array_list[i]);
      }
    </script>
    <script src="js/babel.min.js"></script>
    <script src="js/react-draggable.min.js" type="text/babel"></script>
    <script src="js/dropzone.min.js" type="text/javascript"></script>
    <!-- <script type="text/babel" src="js/components/ErrorBoundary.js"></script> -->

    <!-- Header component scripts -->
    <script src="js/components/Header/Header.js" type="text/babel"></script>
    <script src="js/components/Header/FocusedHeader.js" type="text/babel"></script>
    <script src="js/components/Header/DisplayHeader.js" type="text/babel"></script>

    <!-- Image component scripts -->
    <script src="js/components/Image/Image.js" type="text/babel"></script>
    <script src="js/components/Image/FocusedImage.js" type="text/babel"></script>
    <script src="js/components/Image/DisplayImage.js" type="text/babel"></script>

    <!-- Main scripts App.js and index.js -->
    <script src="js/App.js" type="text/babel"></script>
    <script src="js/index.js" type="text/babel"></script>
  </head>
  <body>
    <% if (is_edit_permission_granted) { %>
      <nav class="navbar bg-light navbar-light fixed-left col-sm-1">
        <ul class="navbar-nav">
          <li class="nav-item"><a id="Header" class="nav-link" href="#">Header</a></li>
          <li class="nav-item"><a id="Image" class="nav-link" href="#">Image</a></li>
        </ul>
      </nav>
      <input type="text" name="linkview" value="<%= dir %>?user=<%= user %>">
      <button id="copylink" type="button" class="btn btn-default" name="button">
        <i class="far fa-clone"></i>
      </button>
    <% } %>
    <div class="container-fluid">

    </div>
  </body>
</html>
